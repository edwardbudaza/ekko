graph TB
    Client[Client Application]
    
    subgraph Docker Environment
        subgraph API[NestJS API]
            Auth[Auth Module]
            Users[Users Module]
            Structures[Structures Module]
            Guards[Guards & Middleware]
            Cache[Cache Manager]
        end
        
        subgraph Database
            Postgres[(PostgreSQL)]
            PgAdmin[PgAdmin Interface]
        end
    end
    
    Client -->|HTTP/HTTPS| Guards
    Guards -->|Validate| Auth
    Auth -->|JWT| Guards
    
    Guards -->|Authorized Request| Users
    Guards -->|Authorized Request| Structures
    
    Users -->|Query| Cache
    Structures -->|Query| Cache
    
    Cache -->|Cache Miss| Postgres
    Users -->|Direct Query| Postgres
    Structures -->|Direct Query| Postgres
    
    Postgres -.->|Management| PgAdmin
    
    classDef module fill:#f9f,stroke:#333,stroke-width:2px
    classDef database fill:#69b,stroke:#333,stroke-width:2px
    classDef client fill:#9f9,stroke:#333,stroke-width:2px
    
    class Auth,Users,Structures,Guards,Cache module
    class Postgres,PgAdmin database
    class Client client 